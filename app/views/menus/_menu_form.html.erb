<%= form_with model: menu, local: true do |f| %>
  <div class="d-flex">
    <p class="col-4">画像</p>
    <div>
      <%= f.attachment_field :menu_image, placeholder: "ファイルを選択" %>
      <img id="preview", class="my-3 col-8">
    </div>
  </div>

  <div class="d-flex mb-3">
    <p class="col-4">日付</p>
    <div><%= f.date_select :date, use_month_numbers: true %></div>
  </div>

  <div class="d-flex">
    <p class="col-4">カテゴリー</p>
    <div><%= f.select :category, Menu.categories.keys %></div>
  </div>

  <div class="d-flex my-3">
    <p class="col-4">メニュー</p>
    <div><%= f.text_area :list, size: "50x5", placeholder: "・カレーライス\n・サラダ" %></div>
  </div>

  <div class="text-center"><%= f.submit "メニューを保存", class: "btn btn-success" %></div>
<% end %>

<!--画像のプレビュー表示-->
<script>
  $('#menu_menu_image').on('change', function (e) {
    var reader = new FileReader();
    reader.onload = function (e) {
        $("#preview").attr('src', e.target.result);
    }
    reader.readAsDataURL(e.target.files[0]);
});
</script>

